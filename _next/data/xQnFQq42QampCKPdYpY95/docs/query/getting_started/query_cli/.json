{"pageProps":{"frontmatter":{"title":"Querying from the command line","description":"Execute SPARQL queries directly from the command line."},"body":"\nThe default Comunica query engine that exposes most standard features is Comunica SPARQL,\nwhich uses the package name `@comunica/actor-init-sparql`.\nIn this guide, we will install it _globally_, and show how it can be invoked from the command line.\n\n<div class=\"note\">\nThis guide discusses querying over Linked Data on the Web, exposed via URLs.\n<a href=\"/docs/query/getting_started/query_cli_file/\">Click here to query over local RDF files</a> instead.\n</div>\n\n## 1. Installation\n\nSince Comunica runs on Node.js, make sure you have [Node.js installed](https://nodejs.org/en/) on your machine.\n\nNext, we can install Comunica SPARQL on our machine:\n```bash\n$ npm install -g @comunica/actor-init-sparql\n```\n\n## 2. SPARQL querying over one source\n\nAfter installing Comunica SPARQL, you will be given access to several commands including `comunica-sparql`,\nwhich allows you to execute SPARQL queries from the command line.\n\nThis command requires one or more URLs to be provided as **sources** to query over.\nAs last argument, as **SPARQL query string** can be provided.\n\nFor example, the following query retrieves the first 100 triples from [DBpedia](https://fragments.dbpedia.org/2016-04/en):\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en \\\n    \"SELECT * WHERE { ?s ?p ?o } LIMIT 100\"\n```\n\n<div class=\"note\">\nGiven a URL, Comunica will automatically detect the <a href=\"/docs/query/advanced/source_types/\">type of source</a> and handle it accordingly.\n</div>\n\nAs output, a JSON array of bindings for the selected variables will be returned:\n```\n[\n{\"?s\":\"https://fragments.dbpedia.org/2016-04/en#dataset\",\"?p\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\",\"?o\":\"http://rdfs.org/ns/void#datasource\"},\n{\"?s\":\"https://fragments.dbpedia.org/2016-04/en#dataset\",\"?p\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\",\"?o\":\"http://www.w3.org/ns/hydra/core#Collection\"},\n{\"?s\":\"https://fragments.dbpedia.org/2016-04/en#dataset\",\"?p\":\"http://www.w3.org/ns/hydra/core#search\",\"?o\":\"https://fragments.dbpedia.org/2016-04/en#triplePattern\"}\n...\n``` \n\n## 3. Query file input\n\nSince SPARQL queries can sometimes become very large, it is possible to supply them via a local file using the `-f` option.\n\nAssuming a file `path/myquery.sparql` exists, we can query over it as follows:\n\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en -f path/myquery.sparql\n```\n\n## 4. SPARQL querying over multiple sources\n\nOne key feature of Comunica is its ability to query over **multiple sources**.\nFor this, you can just supply any number of URLs as arguments.\nJust make sure that the last argument remains your query.\n\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en \\\n    https://www.rubensworks.net/ \\\n    https://ruben.verborgh.org/profile/ \\\n    \"SELECT * WHERE { ?s ?p ?o } LIMIT 100\"\n```\n\n## 5. SPARQL CONSTRUCT and ASK\n\nNext to SPARQL `SELECT` queries,\nit is also possible to execute `CONSTRUCT` queries to produce RDF triples:\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en \\\n    \"CONSTRUCT WHERE { ?s ?p ?o } LIMIT 100\"\n```\n```text\n<http://0-access.newspaperarchive.com.topcat.switchinc.org/Viewer.aspx?img=8716084> <http://dbpedia.org/property/accessdate> \"2010-04-21\"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <http://dbpedia.org/property/date> \"1939-01-02\"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <http://dbpedia.org/property/format> \"PDF\";\n    <http://dbpedia.org/property/isCitedBy> <http://dbpedia.org/resource/List_of_Attorneys_General_of_Wisconsin>;\n    <http://dbpedia.org/property/location> \"Sheboygan, Wisconsin\";\n    <http://dbpedia.org/property/page> \"1\";\n...\n```\n\n`ASK` queries will produce a boolean output:\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en \\\n    \"ASK { ?s ?p ?o }\"\n```\n```\ntrue\n```\n\n## 6. Changing result format\n\n`SELECT` queries will be printed as JSON by default, and `CONSTRUCT` queries as [RDF TriG](https://www.w3.org/TR/trig/).\nThis can be overridden using the `-t` option.\n\nFor example, displaying results as SPARQL JSON results:\n```bash\n$ comunica-sparql https://fragments.dbpedia.org/2016-04/en \\\n    \"SELECT * WHERE { ?s ?p ?o } LIMIT 100\" \\\n    -t 'application/sparql-results+json'\n```\n```json\n{\"head\": {\"vars\":[\"s\",\"p\",\"o\"]},\n\"results\": { \"bindings\": [\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/date\",\"type\":\"uri\"},\"o\":{\"value\":\"1899-05-06\",\"type\":\"literal\",\"datatype\":\"http://www.w3.org/2001/XMLSchema#date\"}},\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/isCitedBy\",\"type\":\"uri\"},\"o\":{\"value\":\"http://dbpedia.org/resource/Tierce_(unit)\",\"type\":\"uri\"}},\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/newspaper\",\"type\":\"uri\"},\"o\":{\"value\":\"Biloxi Daily Herald\",\"type\":\"literal\"}},\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/page\",\"type\":\"uri\"},\"o\":{\"value\":\"6\",\"type\":\"literal\"}},\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/title\",\"type\":\"uri\"},\"o\":{\"value\":\"A New System of Weights and Measures\",\"type\":\"literal\"}},\n{\"s\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"},\"p\":{\"value\":\"http://dbpedia.org/property/url\",\"type\":\"uri\"},\"o\":{\"value\":\"http://0-access.newspaperarchive.com.lib.utep.edu/us/mississippi/biloxi/biloxi-daily-herald/1899/05-06/page-6?tag=tierce+wine&rtserp=tags/tierce-wine?page=2\",\"type\":\"uri\"}},\n...\n``` \n\n<div class=\"note\">\nAll <a href=\"/docs/query/advanced/result_formats/\">available formats</a> can be printed via <code>comunica-sparql --listformats</code>\n</div>\n\n## 7. Learn more\n\nThis guide only discussed the basic functionality of `comunica-sparql`.\nYou can learn more options by invoking the _help_ command:\n```text\n$ comunica-sparql --help\n\nUsage:\n  comunica-sparql http://fragments.dbpedia.org/2016-04/en [-q] 'SELECT * WHERE { ?s ?p ?o }'\n  comunica-sparql http://fragments.dbpedia.org/2016-04/en [-q] '{ hero { name friends { name } } }' -i graphql\n  comunica-sparql http://fragments.dbpedia.org/2016-04/en [-f] query.sparql\n  comunica-sparql http://fragments.dbpedia.org/2016-04/en https://query.wikidata.org/sparql ...\n  comunica-sparql hypermedia@http://fragments.dbpedia.org/2016-04/en sparql@https://query.wikidata.org/sparql ...\n\nOptions:\n  -q            evaluate the given SPARQL query string\n  -f            evaluate the SPARQL query in the given file\n  -c            use the given JSON configuration file (e.g., config.json)\n  -t            the MIME type of the output (e.g., application/json)\n  -i            the query input format (e.g., graphql, defaults to sparql)\n  -b            base IRI for the query (e.g., http://example.org/)\n  -l            sets the log level (e.g., debug, info, warn, ... defaults to warn)\n  -d            sets a datetime for querying Memento-enabled archives\n  -p            delegates all HTTP traffic through the given proxy (e.g. http://myproxy.org/?uri=)\n  --lenient     if failing requests and parsing errors should be logged instead of causing a hard crash\n  --help        print this help message\n  --listformats prints the supported MIME types\n  --version     prints version information\n```\n","excerpt":"","path":"/docs/query/getting_started/query_cli","paths":["/about/","/ask/","/blog/","/blog/2020-08-19-intro/","/cite/","/contribute/","/docs/","/docs/query/","/docs/query/getting_started/","/docs/query/getting_started/query_cli/","/docs/query/getting_started/query_cli_file/","/docs/query/getting_started/query_app/","/docs/query/getting_started/query_browser_app/","/docs/query/getting_started/query_docker/","/docs/query/getting_started/setup_endpoint/","/docs/query/getting_started/setup_web_client/","/docs/query/getting_started/query_dev_version/","/docs/query/usage/","/docs/query/faq/","/docs/query/advanced/","/docs/query/advanced/basic_auth/","/docs/query/advanced/caching/","/docs/query/advanced/context/","/docs/query/advanced/federation/","/docs/query/advanced/graphql_ld/","/docs/query/advanced/hdt/","/docs/query/advanced/logging/","/docs/query/advanced/memento/","/docs/query/advanced/proxying/","/docs/query/advanced/rdfjs/","/docs/query/advanced/rdfjs_querying/","/docs/query/advanced/result_formats/","/docs/query/advanced/source_types/","/docs/query/advanced/sparql_query_types/","/docs/query/advanced/specifications/","/docs/modify/","/docs/modify/getting_started/","/docs/modify/getting_started/custom_config/","/docs/modify/getting_started/custom_config_add/","/docs/modify/getting_started/custom_package/","/docs/modify/extensions/","/docs/modify/faq/","/docs/modify/advanced/","/docs/modify/advanced/architecture/","/docs/modify/advanced/browser_builds/","/docs/modify/advanced/configs/","/roadmap/"],"mattersData":{"/about/":{"title":"About","description":"Learn more about Comunica."},"/ask/":{"title":"Ask","description":"Ask questions about Comunica."},"/blog/":{"title":"Blog","description":"Blog posts, containing announcement or other of news.","blog_index":true},"/blog/2020-08-19-intro/":{"title":"A New Website for Comunica","excerpt":"\nWe're happy to present a brand new website for Comunica! 🎉\n_Don't know that Comunica is? [Read about it here](/about/)._\n\nThis new version contains all **basic information** around Comunica.\nAdditionally, it contains **guides** on how to [query with Comunica](/docs/query/),\nand how to [modify or extend it](/docs/modify/). \n\n"},"/cite/":{"title":"Cite","description":"Reference Comunica in a scientific publication."},"/contribute/":{"title":"Contribute","description":"Contribute to the development of Comunica."},"/docs/":{"title":"Documentation","description":"Overview of all Comunica documentation.","index":true},"/docs/query/":{"title":"Query with Comunica","description":"Learn how to execute queries in different environments. Such as live in the browser, in JavaScript applications, or the CLI.","index":true},"/docs/query/getting_started/":{"title":"Getting started with querying","description":"Basic guides on how to easily get started with querying.","index":true},"/docs/query/getting_started/query_cli/":{"title":"Querying from the command line","description":"Execute SPARQL queries directly from the command line."},"/docs/query/getting_started/query_cli_file/":{"title":"Querying local files from the command line","description":"Execute SPARQL queries over local RDF files directly from the command line."},"/docs/query/getting_started/query_app/":{"title":"Querying in a JavaScript app","description":"Execute SPARQL queries from within your application using the JavaScript API."},"/docs/query/getting_started/query_browser_app/":{"title":"Querying in a JavaScript browser app","description":"Execute SPARQL queries from within your client-side browser application using the JavaScript API."},"/docs/query/getting_started/query_docker/":{"title":"Querying from a Docker container","description":"Execute SPARQL queries within a Docker container."},"/docs/query/getting_started/setup_endpoint/":{"title":"Setting up a SPARQL endpoint","description":"Allow querying over HTTP via the SPARQL protocol"},"/docs/query/getting_started/setup_web_client/":{"title":"Setting up a Web client","description":"Set up a user-friendly static Web page where SPARQL queries can be executed client-side"},"/docs/query/getting_started/query_dev_version/":{"title":"Query using the latest development version","description":"If you want to make use of the latest changes that are not released yet"},"/docs/query/usage/":{"title":"Usage showcase","description":"Examples of where Comunica is used."},"/docs/query/faq/":{"title":"Querying FAQ","description":"Frequently asked questions about using Comunica."},"/docs/query/advanced/":{"title":"Advanced querying","description":"Advanced guides on how to get the most out of Comunica.","index":true},"/docs/query/advanced/basic_auth/":{"title":"HTTP Basic Authentication","description":"Send authenticated HTTP requests by including username and password."},"/docs/query/advanced/caching/":{"title":"Caching","description":"When remote sources are requested, caching allows them to be reused in the future."},"/docs/query/advanced/context/":{"title":"Passing a context","description":"A context can be passed to a query engine to tweak its runtime settings."},"/docs/query/advanced/federation/":{"title":"Federated Querying","description":"Query over the union of data within any number of sources"},"/docs/query/advanced/graphql_ld/":{"title":"GraphQL-LD","description":"Using the power of JSON-LD contexts, GraphQL queries can be executed by Comunica"},"/docs/query/advanced/hdt/":{"title":"HDT","description":"HDT offers highly compressed immutable RDF storage."},"/docs/query/advanced/logging/":{"title":"Logging","description":"Loggers can be set to different logging levels to inspect what Comunica is doing behind the scenes."},"/docs/query/advanced/memento/":{"title":"Memento","description":"Using the Memento protocol, time travel queries can be executed."},"/docs/query/advanced/proxying/":{"title":"HTTP Proxy","description":"All HTTP requests can optionally go through a proxy."},"/docs/query/advanced/rdfjs/":{"title":"RDF/JS","description":"To achieve maximum interoperability between different JavaScript libraries, Comunica builds on top of the RDF/JS specifications."},"/docs/query/advanced/rdfjs_querying/":{"title":"Querying over RDF/JS sources","description":"If the built-in source types are not sufficient, you can pass a custom JavaScript object implementing a specific interface."},"/docs/query/advanced/result_formats/":{"title":"Result formats","description":"Query results can be serialized in different formats."},"/docs/query/advanced/source_types/":{"title":"Source types","description":"Comunica detects and handles different types of sources."},"/docs/query/advanced/sparql_query_types/":{"title":"SPARQL query types","description":"Different SPARQL query types are possible, such as SELECT, CONSTRUCT, ASK, ..."},"/docs/query/advanced/specifications/":{"title":"Supported specifications","description":"Comunica supports several RDF-related specifications"},"/docs/modify/":{"title":"Modify Comunica","description":"Learn how to configure your own Comunica engine, or extend Comunica by implementing new components.","index":true},"/docs/modify/getting_started/":{"title":"Getting started with modification","description":"Basic guides on how to easily get started with Comunica modification.","index":true,"wip":true},"/docs/modify/getting_started/custom_config/":{"title":"Creating a custom configuration","description":"Create a custom configuration of Comunica modules with specific features."},"/docs/modify/getting_started/custom_config_add/":{"title":"Adding a component to a custom configuration","description":"Adding functionality to Comunica by adding a component to a config file.","wip":true},"/docs/modify/getting_started/custom_package/":{"title":"Exposing a custom config as an npm package","description":"Publish your own Comunica engine and config in an npm package.","wip":true},"/docs/modify/extensions/":{"title":"Extensions","description":"Existing extensions of Comunica.","wip":true},"/docs/modify/faq/":{"title":"Modify FAQ","description":"Frequently asked question about Comunica modification.","wip":true},"/docs/modify/advanced/":{"title":"Advanced modification","description":"Advanced guides on how to get the most out of Comunica modification.","index":true,"wip":true},"/docs/modify/advanced/architecture/":{"title":"Architecture","description":"The internal software architecture of Comunica.","wip":true},"/docs/modify/advanced/browser_builds/":{"title":"Browser builds","description":"All modules in Comunica can be built for the browser","wip":true},"/docs/modify/advanced/configs/":{"title":"Configuration files","description":"A reference guide on all details behind Comunica configuration files.","wip":true},"/roadmap/":{"title":"Roadmap","description":"The long-term goals of Comunica"}}},"__N_SSG":true}